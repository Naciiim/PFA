<div class="mt-4 relative" *ngIf="mouvements.length > 0; else noMouvements">
  <h2 class="text-lg font-bold mb-2 text-center">Mouvements Instanciés</h2>
  <div class="absolute top-3 right-10">
    <button (click)="exportToExcel()" class="relative float-right bg-gradient-to-r from-green-400 via-green-500 to-green-600 hover:bg-gradient-to-br text-white px-3 py-1 rounded hover:bg-green-600">
      Export
    </button>
  </div>
  <div class="shadow-lg rounded-lg overflow-x-auto mx-4 md:mx-10">
    <table class="min-w-full divide-y divide-gray-200">
      <thead>
      <tr class="bg-gray-100">
        <th class="whitespace-nowrap py-4 px-6 text-center text-gray-600 font-bold uppercase">Transaction ID</th>
        <th class="whitespace-nowrap py-4 px-6 text-center text-gray-600 font-bold uppercase">Transaction Seq No</th>
        <th class="whitespace-nowrap py-4 px-6 text-center text-gray-600 font-bold uppercase">Numéro Compte</th>
        <th class="whitespace-nowrap py-4 px-6 text-center text-gray-600 font-bold uppercase">État</th>
      </tr>
      </thead>
      <tbody class="bg-white">
      <tr *ngFor="let mouvement of mouvements" class="border-b border-gray-200">
        <td class="whitespace-nowrap py-4 px-6 text-center">{{ mouvement.transactionid }}</td>
        <td class="whitespace-nowrap py-4 px-6 text-center">{{ mouvement.transactionseqno }}</td>
        <td class="whitespace-nowrap py-4 px-6 text-center" (click)="openDialog(mouvement)" [title]="mouvement.numerocompte">
          {{ mouvement.numerocompte | slice:0:20 }}{{ mouvement.numerocompte.length > 20 ? '...' : '' }}
        </td>
        <td class="whitespace-nowrap py-4 px-6 text-center">
            <span [ngClass]="{
              'text-green-500': mouvement.etat === 'T',
              'text-red-500': mouvement.etat === 'M',
              'text-yellow-500': mouvement.etat === 'N'
            }">{{ mouvement.etat }}</span>
        </td>
      </tr>
      </tbody>
    </table>
  </div>
</div>

<ng-template #noMouvements>
  <div class="flex flex-col items-center border border-gray-200 rounded-lg shadow md:flex-row md:max-w-xl  dark:bg-gray-800 mx-auto mt-20 ">
    <img class="object-cover w-full h-96 md:h-auto md:w-48 rounded-t-lg md:rounded-none md:rounded-l-lg" src="assets/image_boa.jpg" alt="Test Image">
    <div class="flex flex-col justify-between leading-normal p-4">
      <span class="mb-2 text-xl font-bold italic tracking-tight text-gray-900 dark:text-white">Aucun MOUVEMENT instancié</span>
      <p class="mb-3 font-normal text-gray-700 dark:text-gray-400">Cherchez les mouvements dont vous avez besoin!</p>
    </div>
  </div>
</ng-template>
